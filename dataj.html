<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Insertion professionnelle MMI Bordeaux 2025</title>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<style>
body { font-family: Arial, sans-serif; background: #f7fafc; margin: 0; padding: 20px; color: #111; }
.container { max-width: 1000px; margin: auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
h1 { color: #1e3a8a; }
h2 { margin-top: 30px; color: #1e40af; }
table { width: 100%; border-collapse: collapse; margin-top: 10px; }
th, td { padding: 8px; border: 1px solid #ccc; text-align: left; }
th { background: #f0f0f0; }
input[type="text"] { width: 100%; padding: 8px; margin: 12px 0; border-radius: 5px; border: 1px solid #ccc; }
.chart { width: 100%; height: 400px; margin: 20px 0; }
footer { font-size: 14px; color: #555; margin-top: 40px; border-top: 1px solid #ddd; padding-top: 10px; }
</style>
</head>
<body>
<div class="container">
<h1>Insertion professionnelle et entrepreneuriat MMI Bordeaux 2025</h1>
<p>Analyse des trajectoires des diplômés MMI Bordeaux : emploi, contrats, secteurs et entrepreneuriat avant et après le diplôme.</p>

<h2>1. Tableau des diplômés</h2>
<input type="text" id="searchInput" onkeyup="filterTable()" placeholder="Rechercher par entreprise, contrat ou localisation">
<table id="emploisTable">
<thead>
<tr><th>Prénom</th><th>Nom</th><th>Entreprise</th><th>Contrat</th><th>Localisation</th></tr>
</thead>
<tbody></tbody>
</table>

<h2>2. Répartition par type de contrat</h2>
<div id="chart_contrat" class="chart"></div>

<h2>3. Répartition géographique</h2>
<div id="chart_localisation" class="chart"></div>

<h2>4. Répartition par secteur</h2>
<div id="chart_secteur" class="chart"></div>

<footer>Sources : Archives BUT MMI Bordeaux, INSEE, France Travail, Bpifrance, DARES, PEPITE, ADIUT</footer>
</div>

<script>
google.charts.load('current', {'packages':['corechart','bar']});
google.charts.setOnLoadCallback(drawCharts);

const diplomes = [
{prenom:"Samuel",nom:"ABADIE",entreprise:"allela-collectif",contrat:"Freelance",localisation:"Bordeaux",secteur:"Numérique"},
{prenom:"Anaïs",nom:"AKKOUCHE",entreprise:"FAVOREAT DESIGN",contrat:"Alternance",localisation:"Bordeaux",secteur:"Design"},
{prenom:"Noé",nom:"BRAUD",entreprise:"Agence Eclipse",contrat:"Alternance",localisation:"Bordeaux",secteur:"Communication"},
{prenom:"Louna",nom:"CHARRIEAU",entreprise:"Wamiz",contrat:"Alternance",localisation:"Paris",secteur:"Communication"},
{prenom:"Francois",nom:"DA CAMARA",entreprise:"Neold",contrat:"CDD",localisation:"Bordeaux",secteur:"Numérique"},
{prenom:"Anaïs",nom:"DELAVIER",entreprise:"FLOA",contrat:"Alternance",localisation:"Bordeaux",secteur:"Finance"},
{prenom:"Lucas",nom:"FROIDEFOND",entreprise:"Vistalid",contrat:"Alternance",localisation:"Bordeaux",secteur:"Numérique"},
{prenom:"Bastien",nom:"GARNIER",entreprise:"Les Pilotes du Dimanche",contrat:"Alternance",localisation:"Noaille",secteur:"Communication"},
{prenom:"Mattéo",nom:"GAUTHIER",entreprise:"Lemni",contrat:"CDI",localisation:"Amsterdam",secteur:"Numérique"},
{prenom:"Emma",nom:"GUILLAUME",entreprise:"CFA Aspect Aquitaine",contrat:"Alternance",localisation:"Bordeaux",secteur:"Formation"},
{prenom:"Perrine",nom:"JOLY",entreprise:"noesya",contrat:"Stage",localisation:"Bordeaux",secteur:"Numérique"},
{prenom:"Jeanne",nom:"JONCHERAY",entreprise:"UIMM GIRONDE-LANDES",contrat:"Alternance",localisation:"Bruges",secteur:"Industrie"},
{prenom:"Louis",nom:"LASSERRE",entreprise:"Yalink",contrat:"Alternance",localisation:"Bordeaux",secteur:"Numérique"},
{prenom:"Maxime",nom:"LUST",entreprise:"FAVOREAT DESIGN",contrat:"Alternance",localisation:"Bordeaux",secteur:"Design"},
{prenom:"Alexandra",nom:"MALLARD",entreprise:"Ville de Surgères",contrat:"CDD",localisation:"Surgères",secteur:"Public"},
{prenom:"Clara",nom:"MANHES",entreprise:"yukan",contrat:"Alternance",localisation:"Toulouse",secteur:"Numérique"},
{prenom:"Thomas",nom:"MESNIER",entreprise:"French Tooth",contrat:"Alternance",localisation:"Étalonneur",secteur:"Audiovisuel"},
{prenom:"Audrey",nom:"MILLOT",entreprise:"Monzo Bank",contrat:"CDD",localisation:"Executive Assistant",secteur:"Finance"}
];

// Générer le tableau
const tbody = document.querySelector('#emploisTable tbody');
diplomes.forEach(d => {
  const tr = document.createElement('tr');
  tr.innerHTML = `<td>${d.prenom}</td><td>${d.nom}</td><td>${d.entreprise}</td><td>${d.contrat}</td><td>${d.localisation}</td>`;
  tbody.appendChild(tr);
});

// Filtrage du tableau
function filterTable() {
  const input = document.getElementById("searchInput").value.toLowerCase();
  const rows = tbody.getElementsByTagName("tr");
  for (let row of rows) {
    row.style.display = Array.from(row.getElementsByTagName("td")).some(td => td.textContent.toLowerCase().includes(input)) ? "" : "none";
  }
}

// Dessiner les graphiques
function drawCharts() {
  const countBy = (arr,key) => arr.reduce((acc,d)=>{acc[d[key]]=(acc[d[key]]||0)+1;return acc;},{});

  // Contrats
  const dataContrat = google.visualization.arrayToDataTable([['Contrat','Nombre']].concat(Object.entries(countBy(diplomes,'contrat'))));
  new google.visualization.PieChart(document.getElementById('chart_contrat')).draw(dataContrat,{title:'Répartition par type de contrat',pieHole:0.4,animation:{startup:true,duration:1000}});

  // Localisation
  const locCounts = {};
  diplomes.forEach(d=>{ const loc = d.localisation.split(' ·')[0]; if(loc) locCounts[loc]=(locCounts[loc]||0)+1; });
  const dataLoc = google.visualization.arrayToDataTable([['Ville','Nombre']].concat(Object.entries(locCounts)));
  new google.visualization.ColumnChart(document.getElementById('chart_localisation')).draw(dataLoc,{title:'Répartition géographique',legend:'none',animation:{startup:true,duration:1000}});

  // Secteurs
  const dataSecteur = google.visualization.arrayToDataTable([['Secteur','Nombre']].concat(Object.entries(countBy(diplomes,'secteur'))));
  new google.visualization.BarChart(document.getElementById('chart_secteur')).draw(dataSecteur,{title:'Répartition par secteur',animation:{startup:true,duration:1000}});
}
</script>
</body>
</html>
